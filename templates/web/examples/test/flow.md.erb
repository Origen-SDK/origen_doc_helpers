% render "../../layouts/examples.html" do

# Test Flow

Documentation of an Origen-generated test program can be created as follows (requires a
documentation interface to be setup):

~~~eruby
<%= "%" %> prog = Origen::Tester::Doc.generate_program_model("program/probe_1.rb", :target => "default")

<%= "<" + "%= render \"doc_helpers/test/flow.md\", :heading => \"Probe 1\", :program => prog, :flow => :probe_1_flow %" + ">" %>
~~~

The test flow helper takes the following required options:

* **heading** - The page heading, generally the name of the flow
* **program** - Supply a pre-generated program model
* **flow(s)** - The name of the flow(s) to document, supply multiple in an array

Additionally these options are available to customize the output:

* **link_to_pattern_docs** - Set this to <code>true</code> to generate links to documentation of the patterns
  in place of the pattern name. Pattern docs should be placed in <code>templates/web/patterns</code> and the
  files should be called \<pattern_name\>.md
* **context** - Supply an execution context to document only the test where the context is true. For example to
  document the tests that will run when job is "P1"is set
  supply <code>{ :job => "P1" }</code>

Here is a live example:

% prog = Origen::Tester::Doc.generate_program_model("program/probe_1.rb", :target => "debug")

<%= render "templates/shared/test/flow.md", :heading => "Probe 1", :program => prog, :flow => :probe_1_flow %>

% end
